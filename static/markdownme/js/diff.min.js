function Diff(){this.Diff_Timeout=1,this.Diff_EditCost=4}var DIFF_DELETE=-1,DIFF_INSERT=1,DIFF_EQUAL=0;Diff.Diff,Diff.prototype.diff_main=function(a,b,c,d){void 0===d&&(d=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var e=d;if(null==a||null==b)throw new Error("Null input. (diff_main)");if(a==b)return a?[[DIFF_EQUAL,a]]:[];void 0===c&&(c=!0);var f=c,g=this.diff_commonPrefix(a,b),h=a.substring(0,g);a=a.substring(g),b=b.substring(g),g=this.diff_commonSuffix(a,b);var i=a.substring(a.length-g);a=a.substring(0,a.length-g),b=b.substring(0,b.length-g);var j=this.diff_compute_(a,b,f,e);return h&&j.unshift([DIFF_EQUAL,h]),i&&j.push([DIFF_EQUAL,i]),this.diff_cleanupMerge(j),j},Diff.prototype.diff_compute_=function(a,b,c,d){var e;if(!a)return[[DIFF_INSERT,b]];if(!b)return[[DIFF_DELETE,a]];var f=a.length>b.length?a:b,g=a.length>b.length?b:a,h=f.indexOf(g);if(-1!=h)return e=[[DIFF_INSERT,f.substring(0,h)],[DIFF_EQUAL,g],[DIFF_INSERT,f.substring(h+g.length)]],a.length>b.length&&(e[0][0]=e[2][0]=DIFF_DELETE),e;if(1==g.length)return[[DIFF_DELETE,a],[DIFF_INSERT,b]];var i=this.diff_halfMatch_(a,b);if(i){var j=i[0],k=i[1],l=i[2],m=i[3],n=i[4],o=this.diff_main(j,l,c,d),p=this.diff_main(k,m,c,d);return o.concat([[DIFF_EQUAL,n]],p)}return c&&a.length>100&&b.length>100?this.diff_lineMode_(a,b,d):this.diff_bisect_(a,b,d)},Diff.prototype.diff_lineMode_=function(a,b,c){var d=this.diff_linesToChars_(a,b);a=d.chars1,b=d.chars2;var e=d.lineArray,f=this.diff_main(a,b,!1,c);this.diff_charsToLines_(f,e),this.diff_cleanupSemantic(f),f.push([DIFF_EQUAL,""]);for(var g=0,h=0,i=0,j="",k="";g<f.length;){switch(f[g][0]){case DIFF_INSERT:i++,k+=f[g][1];break;case DIFF_DELETE:h++,j+=f[g][1];break;case DIFF_EQUAL:if(h>=1&&i>=1){f.splice(g-h-i,h+i),g=g-h-i;for(var d=this.diff_main(j,k,!1,c),l=d.length-1;l>=0;l--)f.splice(g,0,d[l]);g+=d.length}i=0,h=0,j="",k=""}g++}return f.pop(),f},Diff.prototype.diff_bisect_=function(a,b,c){for(var d=a.length,e=b.length,f=Math.ceil((d+e)/2),g=f,h=2*f,i=new Array(h),j=new Array(h),k=0;k<h;k++)i[k]=-1,j[k]=-1;i[g+1]=0,j[g+1]=0;for(var l=d-e,m=l%2!=0,n=0,o=0,p=0,q=0,r=0;r<f&&!((new Date).getTime()>c);r++){for(var s=-r+n;s<=r-o;s+=2){var u,t=g+s;u=s==-r||s!=r&&i[t-1]<i[t+1]?i[t+1]:i[t-1]+1;for(var v=u-s;u<d&&v<e&&a.charAt(u)==b.charAt(v);)u++,v++;if(i[t]=u,u>d)o+=2;else if(v>e)n+=2;else if(m){var w=g+l-s;if(w>=0&&w<h&&-1!=j[w]){var x=d-j[w];if(u>=x)return this.diff_bisectSplit_(a,b,u,v,c)}}}for(var y=-r+p;y<=r-q;y+=2){var x,w=g+y;x=y==-r||y!=r&&j[w-1]<j[w+1]?j[w+1]:j[w-1]+1;for(var z=x-y;x<d&&z<e&&a.charAt(d-x-1)==b.charAt(e-z-1);)x++,z++;if(j[w]=x,x>d)q+=2;else if(z>e)p+=2;else if(!m){var t=g+l-y;if(t>=0&&t<h&&-1!=i[t]){var u=i[t],v=g+u-t;if(x=d-x,u>=x)return this.diff_bisectSplit_(a,b,u,v,c)}}}}return[[DIFF_DELETE,a],[DIFF_INSERT,b]]},Diff.prototype.diff_bisectSplit_=function(a,b,c,d,e){var f=a.substring(0,c),g=b.substring(0,d),h=a.substring(c),i=b.substring(d),j=this.diff_main(f,g,!1,e),k=this.diff_main(h,i,!1,e);return j.concat(k)},Diff.prototype.diff_linesToChars_=function(a,b){function e(a){for(var b="",e=0,f=-1,g=c.length;f<a.length-1;){f=a.indexOf("\n",e),-1==f&&(f=a.length-1);var h=a.substring(e,f+1);e=f+1,(d.hasOwnProperty?d.hasOwnProperty(h):void 0!==d[h])?b+=String.fromCharCode(d[h]):(b+=String.fromCharCode(g),d[h]=g,c[g++]=h)}return b}var c=[],d={};return c[0]="",{chars1:e(a),chars2:e(b),lineArray:c}},Diff.prototype.diff_charsToLines_=function(a,b){for(var c=0;c<a.length;c++){for(var d=a[c][1],e=[],f=0;f<d.length;f++)e[f]=b[d.charCodeAt(f)];a[c][1]=e.join("")}},Diff.prototype.diff_commonPrefix=function(a,b){if(!a||!b||a.charAt(0)!=b.charAt(0))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;c<e;)a.substring(f,e)==b.substring(f,e)?(c=e,f=c):d=e,e=Math.floor((d-c)/2+c);return e},Diff.prototype.diff_commonSuffix=function(a,b){if(!a||!b||a.charAt(a.length-1)!=b.charAt(b.length-1))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;c<e;)a.substring(a.length-e,a.length-f)==b.substring(b.length-e,b.length-f)?(c=e,f=c):d=e,e=Math.floor((d-c)/2+c);return e},Diff.prototype.diff_commonOverlap_=function(a,b){var c=a.length,d=b.length;if(0==c||0==d)return 0;c>d?a=a.substring(c-d):c<d&&(b=b.substring(0,c));var e=Math.min(c,d);if(a==b)return e;for(var f=0,g=1;;){var h=a.substring(e-g),i=b.indexOf(h);if(-1==i)return f;g+=i,0!=i&&a.substring(e-g)!=b.substring(0,g)||(f=g,g++)}},Diff.prototype.diff_halfMatch_=function(a,b){function f(a,b,c){for(var h,i,j,k,d=a.substring(c,c+Math.floor(a.length/4)),f=-1,g="";-1!=(f=b.indexOf(d,f+1));){var l=e.diff_commonPrefix(a.substring(c),b.substring(f)),m=e.diff_commonSuffix(a.substring(0,c),b.substring(0,f));g.length<m+l&&(g=b.substring(f-m,f)+b.substring(f,f+l),h=a.substring(0,c-m),i=a.substring(c+l),j=b.substring(0,f-m),k=b.substring(f+l))}return 2*g.length>=a.length?[h,i,j,k,g]:null}if(this.Diff_Timeout<=0)return null;var c=a.length>b.length?a:b,d=a.length>b.length?b:a;if(c.length<4||2*d.length<c.length)return null;var i,e=this,g=f(c,d,Math.ceil(c.length/4)),h=f(c,d,Math.ceil(c.length/2));if(!g&&!h)return null;i=h?g&&g[4].length>h[4].length?g:h:g;var j,k,l,m;return a.length>b.length?(j=i[0],k=i[1],l=i[2],m=i[3]):(l=i[0],m=i[1],j=i[2],k=i[3]),[j,k,l,m,i[4]]},Diff.prototype.diff_cleanupSemantic=function(a){for(var b=!1,c=[],d=0,e=null,f=0,g=0,h=0,i=0,j=0;f<a.length;)a[f][0]==DIFF_EQUAL?(c[d++]=f,g=i,h=j,i=0,j=0,e=a[f][1]):(a[f][0]==DIFF_INSERT?i+=a[f][1].length:j+=a[f][1].length,e&&e.length<=Math.max(g,h)&&e.length<=Math.max(i,j)&&(a.splice(c[d-1],0,[DIFF_DELETE,e]),a[c[d-1]+1][0]=DIFF_INSERT,d--,d--,f=d>0?c[d-1]:-1,g=0,h=0,i=0,j=0,e=null,b=!0)),f++;for(b&&this.diff_cleanupMerge(a),this.diff_cleanupSemanticLossless(a),f=1;f<a.length;){if(a[f-1][0]==DIFF_DELETE&&a[f][0]==DIFF_INSERT){var k=a[f-1][1],l=a[f][1],m=this.diff_commonOverlap_(k,l),n=this.diff_commonOverlap_(l,k);m>=n?(m>=k.length/2||m>=l.length/2)&&(a.splice(f,0,[DIFF_EQUAL,l.substring(0,m)]),a[f-1][1]=k.substring(0,k.length-m),a[f+1][1]=l.substring(m),f++):(n>=k.length/2||n>=l.length/2)&&(a.splice(f,0,[DIFF_EQUAL,k.substring(0,n)]),a[f-1][0]=DIFF_INSERT,a[f-1][1]=l.substring(0,l.length-n),a[f+1][0]=DIFF_DELETE,a[f+1][1]=k.substring(n),f++),f++}f++}},Diff.prototype.diff_cleanupSemanticLossless=function(a){function b(a,b){if(!a||!b)return 6;var c=a.charAt(a.length-1),d=b.charAt(0),e=c.match(Diff.nonAlphaNumericRegex_),f=d.match(Diff.nonAlphaNumericRegex_),g=e&&c.match(Diff.whitespaceRegex_),h=f&&d.match(Diff.whitespaceRegex_),i=g&&c.match(Diff.linebreakRegex_),j=h&&d.match(Diff.linebreakRegex_),k=i&&a.match(Diff.blanklineEndRegex_),l=j&&b.match(Diff.blanklineStartRegex_);return k||l?5:i||j?4:e&&!g&&h?3:g||h?2:e||f?1:0}for(var c=1;c<a.length-1;){if(a[c-1][0]==DIFF_EQUAL&&a[c+1][0]==DIFF_EQUAL){var d=a[c-1][1],e=a[c][1],f=a[c+1][1],g=this.diff_commonSuffix(d,e);if(g){var h=e.substring(e.length-g);d=d.substring(0,d.length-g),e=h+e.substring(0,e.length-g),f=h+f}for(var i=d,j=e,k=f,l=b(d,e)+b(e,f);e.charAt(0)===f.charAt(0);){d+=e.charAt(0),e=e.substring(1)+f.charAt(0),f=f.substring(1);var m=b(d,e)+b(e,f);m>=l&&(l=m,i=d,j=e,k=f)}a[c-1][1]!=i&&(i?a[c-1][1]=i:(a.splice(c-1,1),c--),a[c][1]=j,k?a[c+1][1]=k:(a.splice(c+1,1),c--))}c++}},Diff.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,Diff.whitespaceRegex_=/\s/,Diff.linebreakRegex_=/[\r\n]/,Diff.blanklineEndRegex_=/\n\r?\n$/,Diff.blanklineStartRegex_=/^\r?\n\r?\n/,Diff.prototype.diff_cleanupEfficiency=function(a){for(var b=!1,c=[],d=0,e=null,f=0,g=!1,h=!1,i=!1,j=!1;f<a.length;)a[f][0]==DIFF_EQUAL?(a[f][1].length<this.Diff_EditCost&&(i||j)?(c[d++]=f,g=i,h=j,e=a[f][1]):(d=0,e=null),i=j=!1):(a[f][0]==DIFF_DELETE?j=!0:i=!0,e&&(g&&h&&i&&j||e.length<this.Diff_EditCost/2&&g+h+i+j==3)&&(a.splice(c[d-1],0,[DIFF_DELETE,e]),a[c[d-1]+1][0]=DIFF_INSERT,d--,e=null,g&&h?(i=j=!0,d=0):(d--,f=d>0?c[d-1]:-1,i=j=!1),b=!0)),f++;b&&this.diff_cleanupMerge(a)},Diff.prototype.diff_cleanupMerge=function(a){a.push([DIFF_EQUAL,""]);for(var g,b=0,c=0,d=0,e="",f="";b<a.length;)switch(a[b][0]){case DIFF_INSERT:d++,f+=a[b][1],b++;break;case DIFF_DELETE:c++,e+=a[b][1],b++;break;case DIFF_EQUAL:c+d>1?(0!==c&&0!==d&&(g=this.diff_commonPrefix(f,e),0!==g&&(b-c-d>0&&a[b-c-d-1][0]==DIFF_EQUAL?a[b-c-d-1][1]+=f.substring(0,g):(a.splice(0,0,[DIFF_EQUAL,f.substring(0,g)]),b++),f=f.substring(g),e=e.substring(g)),0!==(g=this.diff_commonSuffix(f,e))&&(a[b][1]=f.substring(f.length-g)+a[b][1],f=f.substring(0,f.length-g),e=e.substring(0,e.length-g))),0===c?a.splice(b-d,c+d,[DIFF_INSERT,f]):0===d?a.splice(b-c,c+d,[DIFF_DELETE,e]):a.splice(b-c-d,c+d,[DIFF_DELETE,e],[DIFF_INSERT,f]),b=b-c-d+(c?1:0)+(d?1:0)+1):0!==b&&a[b-1][0]==DIFF_EQUAL?(a[b-1][1]+=a[b][1],a.splice(b,1)):b++,d=0,c=0,e="",f=""}""===a[a.length-1][1]&&a.pop();var h=!1;for(b=1;b<a.length-1;)a[b-1][0]==DIFF_EQUAL&&a[b+1][0]==DIFF_EQUAL&&(a[b][1].substring(a[b][1].length-a[b-1][1].length)==a[b-1][1]?(a[b][1]=a[b-1][1]+a[b][1].substring(0,a[b][1].length-a[b-1][1].length),a[b+1][1]=a[b-1][1]+a[b+1][1],a.splice(b-1,1),h=!0):a[b][1].substring(0,a[b+1][1].length)==a[b+1][1]&&(a[b-1][1]+=a[b+1][1],a[b][1]=a[b][1].substring(a[b+1][1].length)+a[b+1][1],a.splice(b+1,1),h=!0)),b++;h&&this.diff_cleanupMerge(a)},Diff.prototype.diff_xIndex=function(a,b){var g,c=0,d=0,e=0,f=0;for(g=0;g<a.length&&(a[g][0]!==DIFF_INSERT&&(c+=a[g][1].length),a[g][0]!==DIFF_DELETE&&(d+=a[g][1].length),!(c>b));g++)e=c,f=d;return a.length!=g&&a[g][0]===DIFF_DELETE?f:f+(b-e)},Diff.prototype.diff_prettyHtml=function(a){for(var b=[],c=/&/g,d=/</g,e=/>/g,f=/\n/g,g=0;g<a.length;g++){var h=a[g][0],i=a[g][1],j=i.replace(c,"&amp;").replace(d,"&lt;").replace(e,"&gt;").replace(f,"<br>");switch(h){case DIFF_INSERT:j=j.replace(/<br>/g,"&nbsp<br>"),b[g]='<ins style="background:#e6ffe6;">'+j+"</ins>";break;case DIFF_DELETE:j=j.replace(/<br>/g,"&nbsp<br>"),b[g]='<del style="background:#ffe6e6;">'+j+"</del>";break;case DIFF_EQUAL:b[g]="<span>"+j+"</span>"}}return b.join("")},Diff.prototype.diff_text1=function(a){for(var b=[],c=0;c<a.length;c++)a[c][0]!==DIFF_INSERT&&(b[c]=a[c][1]);return b.join("")},Diff.prototype.diff_text2=function(a){for(var b=[],c=0;c<a.length;c++)a[c][0]!==DIFF_DELETE&&(b[c]=a[c][1]);return b.join("")},Diff.prototype.diff_levenshtein=function(a){for(var b=0,c=0,d=0,e=0;e<a.length;e++){var f=a[e][0],g=a[e][1];switch(f){case DIFF_INSERT:c+=g.length;break;case DIFF_DELETE:d+=g.length;break;case DIFF_EQUAL:b+=Math.max(c,d),c=0,d=0}}return b+=Math.max(c,d)},Diff.prototype.diff_toDelta=function(a){for(var b=[],c=0;c<a.length;c++)switch(a[c][0]){case DIFF_INSERT:b[c]="+"+encodeURI(a[c][1]);break;case DIFF_DELETE:b[c]="-"+a[c][1].length;break;case DIFF_EQUAL:b[c]="="+a[c][1].length}return b.join("\t").replace(/%20/g," ")},Diff.prototype.diff_fromDelta=function(a,b){for(var c=[],d=0,e=0,f=b.split(/\t/g),g=0;g<f.length;g++){var h=f[g].substring(1);switch(f[g].charAt(0)){case"+":try{c[d++]=[DIFF_INSERT,decodeURI(h)]}catch(a){throw new Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var i=parseInt(h,10);if(isNaN(i)||i<0)throw new Error("Invalid number in diff_fromDelta: "+h);var j=a.substring(e,e+=i);"="==f[g].charAt(0)?c[d++]=[DIFF_EQUAL,j]:c[d++]=[DIFF_DELETE,j];break;default:if(f[g])throw new Error("Invalid diff operation in diff_fromDelta: "+f[g])}}if(e!=a.length)throw new Error("Delta length ("+e+") does not equal source text length ("+a.length+").");return c},this.Diff=Diff,this.DIFF_DELETE=DIFF_DELETE,this.DIFF_INSERT=DIFF_INSERT,this.DIFF_EQUAL=DIFF_EQUAL;